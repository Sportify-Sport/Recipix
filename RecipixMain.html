<!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipix</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="RecipixMain.css" rel="stylesheet" />
</head>
<body>

    <header>
        <div class="logo">Recipix</div>
        <nav>
            <a href="RecipixMain.html">Home</a>
            <a href="ProfileAdmin.html">Profile</a>
        </nav>
        <div class="profile">
            <a href="login.html">Login</a>
        </div>
    </header>

    <div class="search-bar">
        <input type="text" placeholder="Search for recipes...">
        <select>
            <option>Sort by Rating</option>
            <option>Sort by Newest</option>
            <option>Sort by Popularity</option>
        </select>
    </div>

    <div class="recipes-container" id="recipes-container">-->
<!-- Recipe cards will be dynamically injected here -->
<!--</div>

    <footer>
        &copy; 2025 Recipix. All rights reserved.
    </footer>

    <script>
        // Fetch recipes from API
        fetch('https://ty6ieut9fc.execute-api.us-east-1.amazonaws.com/prod/getAllRecipes')
            .then(response => response.json())
            .then(data => {
                const recipes = JSON.parse(data.body).recipes;
                const container = document.getElementById('recipes-container');
                recipes.forEach(recipe => {
                    // Create a recipe card
                    const recipeCard = document.createElement('div');
                    recipeCard.classList.add('recipe-card');

                    // Add image
                    const recipeImage = document.createElement('img');
                    recipeImage.src = recipe.ImageURL || 'default-image.jpg'; // fallback if no imageURL in the recipe
                    recipeCard.appendChild(recipeImage);

                    // Add title
                    const recipeTitle = document.createElement('h3');
                    recipeTitle.textContent = recipe.Title;
                    recipeCard.appendChild(recipeTitle);

                    // Add description
                    const recipeDescription = document.createElement('p');
                    recipeDescription.textContent = recipe.Description;
                    recipeCard.appendChild(recipeDescription);

                    // Add Save button
                    const saveButton = document.createElement('button');
                    saveButton.textContent = 'Save';
                    recipeCard.appendChild(saveButton);

                    // Add Rate button
                    const rateButton = document.createElement('button');
                    rateButton.textContent = 'Rate';
                    recipeCard.appendChild(rateButton);

                    // Append the recipe card to the container
                    container.appendChild(recipeCard);
                });
            })
            .catch(error => {
                console.error('Error fetching recipes:', error);
            });
    </script>
</body>
</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipix</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="RecipixMain.css" rel="stylesheet" />
</head>
<body>

    <header>
        <div class="logo">Recipix</div>
        <nav>
            <a href="RecipixMain.html">Home</a>
            <a href="ProfileAdmin.html">Profile</a>
        </nav>
        <div class="profile">
            <a href="login.html">Login</a>
        </div>
    </header>

    <div class="search-bar">
        <input type="text" placeholder="Search for recipes...">
        <select>
            <option>Sort by Rating</option>
            <option>Sort by Newest</option>
            <option>Sort by Popularity</option>
        </select>
    </div>

    <div class="recipes-container" id="recipes-container">
        <!-- Recipe cards will be dynamically injected here -->
    </div>

    <footer>
        &copy; 2025 Recipix. All rights reserved.
    </footer>

    <script>
        // Fetch recipes from API
        fetch('https://ty6ieut9fc.execute-api.us-east-1.amazonaws.com/prod/getAllRecipes')
            .then(response => response.json())
            .then(data => {
                const recipes = JSON.parse(data.body).recipes;
                const container = document.getElementById('recipes-container');
                recipes.forEach(recipe => {
                    // Create a recipe card
                    const recipeCard = document.createElement('div');
                    recipeCard.classList.add('recipe-card');

                    // Add username and creation date
                    const userInfo = document.createElement('div');
                    userInfo.classList.add('user-info');
                    userInfo.innerHTML = `
                            <span class="username">${recipe.CreatorUsername}</span>
                            <span class="create-date">${new Date(recipe.CreatedAt).toLocaleDateString()}</span>
                        `;
                    recipeCard.appendChild(userInfo);

                    // Add title
                    const recipeTitle = document.createElement('h3');
                    recipeTitle.classList.add('title');
                    recipeTitle.textContent = recipe.Title;
                    recipeCard.appendChild(recipeTitle);

                    // Add description
                    const recipeDescription = document.createElement('p');
                    recipeDescription.classList.add('description');
                    recipeDescription.textContent = recipe.Description;
                    recipeCard.appendChild(recipeDescription);

                    // Add image
                    const recipeImage = document.createElement('img');
                    recipeImage.src = recipe.ImageURL || 'default-image.jpg'; // fallback if no imageURL in the recipe
                    recipeCard.appendChild(recipeImage);

                    // Ingredients
                    const ingredientsText = document.createElement('p');
                    ingredientsText.classList.add('expand-text');
                    ingredientsText.textContent = 'Ingredients ^';
                    ingredientsText.addEventListener('click', () => {
                        const ingredients = recipeCard.querySelector('.ingredients');
                        ingredients.style.display = ingredients.style.display === 'none' ? 'block' : 'none';
                    });

                    const ingredientsList = document.createElement('div');
                    ingredientsList.classList.add('ingredients');
                    ingredientsList.innerHTML = `<ul>${recipe.Ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}</ul>`;

                    recipeCard.appendChild(ingredientsText);
                    recipeCard.appendChild(ingredientsList);

                    // Steps
                    const stepsText = document.createElement('p');
                    stepsText.classList.add('expand-text');
                    stepsText.textContent = 'Steps ^';
                    stepsText.addEventListener('click', () => {
                        const steps = recipeCard.querySelector('.steps');
                        steps.style.display = steps.style.display === 'none' ? 'block' : 'none';
                    });

                    const stepsList = document.createElement('div');
                    stepsList.classList.add('steps');
                    stepsList.innerHTML = `<ol>${recipe.Steps.map(step => `<li>${step}</li>`).join('')}</ol>`;

                    recipeCard.appendChild(stepsText);
                    recipeCard.appendChild(stepsList);

                    // Add rating
                    const ratingText = document.createElement('p');
                    ratingText.classList.add('rating');
                    ratingText.textContent = `Rating: ${recipe.Rating}`;
                    recipeCard.appendChild(ratingText);

                    // Add Save button
                    const saveButton = document.createElement('button');
                    saveButton.textContent = 'Save';
                    recipeCard.appendChild(saveButton);

                    // Add Rate button
                    const rateButton = document.createElement('button');
                    rateButton.textContent = 'Rate';
                    recipeCard.appendChild(rateButton);

                    // Append the recipe card to the container
                    container.appendChild(recipeCard);
                });
            })
            .catch(error => {
                console.error('Error fetching recipes:', error);
            });
    </script>
</body>
</html>


